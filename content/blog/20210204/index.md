---
title: AWS Web Services 基礎からのネットワーク＆サーバー構築 Chapter8～9
date: 2021-02-04
tags: ["AWS"]
---

[Kindle](AWS Web Services 基礎からのネットワーク＆サーバー構築)

## Chapter8 DB を用いたブログシステムの構築

1. この章の内容

- WordPress をインストールしてブログシステムを構築する
- データは DB サーバー上の MariaDB に保存する

2. DB サーバーに MariaDB をインストールする
3. Web サーバーに WordPress をインストールする

## Chapter9 TCP/IP による通信の仕組みを理解する

1. TCP/IP とは

- 構築した Web サーバーにローカル環境の Web ブラウザから接続して Web ページを表示するという一連の操作の中で下記の要素について説明した
  - IP アドレス…ネットワーク上の通信先を一意に特定するもの
  - ポート番号…1 つの IP アドレスで同時に複数のアプリケーションが通信できる
  - DNS…IP アドレスは数字の羅列で覚えにくいため、一般にブラウザからのアクセスはドメイン名を使う
  - HTTP…Web サーバーと Web ブラウザは HTTP を用いてデータをやり取りする
- これらの一連の処理は「TCP/IP モデル」という通信モデルで構成されている

  - 役割毎に 4 つの階層に分けたモデル
  - アプリケーション層…ソフトウェア同士が会話する(HTTP,SSH,DNS.SMTP)
  - トランスポート層…データのやり取りの順番を制御したり、エラー訂正したりするなど、信頼性を高めたデータの転送を制御する(TCP,UDP)
  - インターネット層…IP アドレスの割り当て、ルーティングをする(IP,ICMP,ARP)
  - インタフェース層…ネットワーク上で接続されている機器同士で通信する(Ethernet,PPP)

- これらの階層を意識して「DNS が名前解決する」という処理を詳しく見る
  1. 名前解決リクエストの作成(アプリケーション層)
  2. UDP でカプセル化
  3. IP でカプセル化(インターネット層)
  4. Ethernet でカプセル化(インタフェース層)
  - 階層を超えるごとに前の階層の情報をカプセル化し、新たな情報を付与する
  - Ethernet の通信では MAC アドレスという機器単位でユニークな番号を参照してやり取りをする
  - ARP というプロトコルで IP と MAC アドレスを結びつける
  - ARP 要求で調べられる範囲は自分のサブネットの範囲内のみ
  - ルーターを超える場所にデータを転送する際にはルーターに到達するごとにパケット内の IP の部分を取り出し、Ethernet ヘッダーを付け替えながら進んでいく
  - ヘッダーを付け替える理由はサブネットごとに利用している物理的な配線が違うかもしれないから(Ethernet 以外を利用しているかもしれない)

2. UDP と TCP

- UDP はステートレスプロトコルで、送りっぱなしのプロトコルであり相手の受入体制が整っていない場合はそのまま破棄されてしまう。その分高速で送れる
- 高い信頼性が必要な場合は TCP を利用する
- TCP では送り先とのコネクションを確立し、疎通を確認してからデータの送受信を行う(3 ウェイハンドシェーク)
